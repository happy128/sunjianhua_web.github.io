<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>UEFI第一课--编译EDK2</title>
    <link href="./2023/04/08/EDK2-1/"/>
    <url>./2023/04/08/EDK2-1/</url>
    
    <content type="html"><![CDATA[<h2 id="1、安装C-x2F-C-编译环境"><a href="#1、安装C-x2F-C-编译环境" class="headerlink" title="1、安装C&#x2F;C++编译环境"></a>1、安装C&#x2F;C++编译环境</h2><p>使用VS2019即可。</p><h2 id="2、安装Python以及其他辅助工具"><a href="#2、安装Python以及其他辅助工具" class="headerlink" title="2、安装Python以及其他辅助工具"></a>2、安装Python以及其他辅助工具</h2><p>本文使用了Python3.10，并安装IASL（下载地址<a href="https://acpica.org/downloads/binary-tools%EF%BC%89%EF%BC%8C%E5%AE%89%E8%A3%85NASM%E7%BC%96%E8%AF%91%E5%99%A8%EF%BC%88%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80https://www.nasm.us/%EF%BC%89%EF%BC%8C%E6%9C%80%E5%A5%BD%E5%B0%86%E5%85%B6%E5%AE%89%E8%A3%85%E5%9C%A8C%E7%9B%98%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%B8%8B%E9%9D%A2%E3%80%82">https://acpica.org/downloads/binary-tools），安装NASM编译器（下载地址https://www.nasm.us/），最好将其安装在C盘根目录下面。</a><br><strong>并添加环境变量。</strong></p><img src="./2023/04/08/EDK2-1/1.png" class=""><p>PYTHON_HOME            C:\Python</p><img src="./2023/04/08/EDK2-1/2.png" class=""><h2 id="3、下载EDK2开发包和其他必要的开发包"><a href="#3、下载EDK2开发包和其他必要的开发包" class="headerlink" title="3、下载EDK2开发包和其他必要的开发包"></a>3、下载EDK2开发包和其他必要的开发包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/tianocore/edk2.git       <span class="comment">#如果一直不动，可试一下敲回车</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/tianocore/edk2-libc.git</span><br></pre></td></tr></table></figure><h2 id="4、配置开发环境"><a href="#4、配置开发环境" class="headerlink" title="4、配置开发环境"></a>4、配置开发环境</h2><p>进行更新</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> edk2</span><br><span class="line">git submodule update --init    <span class="comment">#此处也是，如果一直卡在OpenSSL的地方，敲击一下回车，这里等待的时间较长</span></span><br></pre></td></tr></table></figure><p>进行编译</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> PYTHON_HOME=C:\Python</span><br><span class="line"></span><br><span class="line">edksetup.bat Rebuild</span><br></pre></td></tr></table></figure><img src="./2023/04/08/EDK2-1/3.png" class=""><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">edksetup.bat</span><br><span class="line"></span><br><span class="line">notepad Conf\target.txt</span><br><span class="line"></span><br><span class="line">修改：TOOL_CHAIN_TAG     =    VS2019</span><br><span class="line"></span><br><span class="line">保存target.txt</span><br><span class="line"></span><br><span class="line">build</span><br></pre></td></tr></table></figure><p>编译完成之后的信息：</p><img src="./2023/04/08/EDK2-1/4.png" class=""><p>然后进入目录<code>edk2\Build\EmulatorIA32\DEBUG_VS2019\IA32</code>使用cmd命令窗，输入<code>WinHost.exe</code></p><img src="./2023/04/08/EDK2-1/5.png" class=""><p>参考资料：<br><a href="https://blog.csdn.net/qq_40282557/article/details/125857063">https://blog.csdn.net/qq_40282557&#x2F;article&#x2F;details&#x2F;125857063</a><br><a href="https://www.jianshu.com/p/5da950ddeafd">https://www.jianshu.com/p/5da950ddeafd</a><br><a href="https://blog.csdn.net/weixin_42951246/article/details/120200733?spm=1001.2014.3001.5502">https://blog.csdn.net/weixin_42951246&#x2F;article&#x2F;details&#x2F;120200733?spm&#x3D;1001.2014.3001.5502</a></p>]]></content>
    
    
    <categories>
      
      <category>UEFI</category>
      
    </categories>
    
    
    <tags>
      
      <tag>原创</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
